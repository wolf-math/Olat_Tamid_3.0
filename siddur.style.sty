\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{siddur}
  [2020/06/19 v0.01 LaTeX package for siddur]

%Packages used throughout
\RequirePackage{longtable}				%lets tables go over a page break
\RequirePackage{paracol}					%parallel columns
\RequirePackage{multirow}
\RequirePackage{multicol}				%multicolumn
\RequirePackage[table]{xcolor}			%colored tables
\RequirePackage{pbox}					%paragraph box 
\RequirePackage{wrapfig}					%wraps text around pbox
\RequirePackage{array}					%for tables
\RequirePackage{graphicx}				%for adding jpegs
\RequirePackage{afterpage}				%for insterting blank pages
\RequirePackage{morefloats}
\RequirePackage{marginfix}
\RequirePackage{xunicode} 				%UTF-8
\RequirePackage{adforn}					%for vignettes on the chapters and sections, I'm getting rid of them in favor of a more modern look
\RequirePackage{tikz}
\usetikzlibrary{decorations.text}
\RequirePackage{ragged2e}				%text justification
\RequirePackage{libertine}
\RequirePackage{setspace}				%line spacing
\RequirePackage{sectsty}
\RequirePackage[bottom]{footmisc}		%keeps footnotes at the bottom of the page. Doesn't always work.
\RequirePackage{scrextend}
\RequirePackage[all]{nowidow}
\RequirePackage{python}
\allsectionsfont{\centering}

  % Header - must be before bidi
  \usepackage{fancyhdr}
  \pagestyle{fancy}
  \fancyhf{}
  \fancyhead[RE]{\footnotesize\thepage}
  \fancyhead[LO]{\footnotesize\thepage}
  \fancyhead[C]{\footnotesize\leftmark}
  \fancypagestyle{plain}{
       \fancyhf{}
      \fancyhead[RE]{\footnotesize\thepage}
      \fancyhead[LO]{\footnotesize\thepage}      
  }

% chapter and section titles - MUST be before bidi
\RequirePackage{titlesec}

% Right to left typing
\RequirePackage{polyglossia}
\setdefaultlanguage[numerals=Hebrew]{hebrew}
\setotherlanguage{english}

% font
\setmainfont[
	Path=./fonts/, 
	BoldItalicFont=ShlomoLightBold, 
	BoldFont=ShlomoBold, 
	ItalicFont=ShlomosemiStam
	]{Shlomo}
	\setsansfont{FreeSans}

% bidirectional typing
\RequirePackage{bidi}
\makeatletter
\makeatother

\makeatletter
\@addtoreset{footnote}{chapter}
\makeatother

% supress chapter numbers
\setcounter{secnumdepth}{-1}

% Format for the chapter headings
\titleformat{\chapter}[display]{\bfseries\Large\itshape}{ \thechapter}{0.5ex}{}[]

% indentation
\setlength\parindent{0pt}

% paragrph spacing
\setlength{\parskip}{1em}

% line spacing
\renewcommand{\baselinestretch}{1.4}

% inter word stretch
\fontdimen3\font=0.1em

% stretch length between words. so it doesn't go over the margin.
\setlength{\emergencystretch}{3em}